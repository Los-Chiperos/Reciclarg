name: Deploy to GCP
on:
  push:
    branches:
      - main
      
jobs:
  deploy:
    runs-on: ubuntu-latest
    
env:
  PROJECT_ID: your-project-id
  CREDENTIALS: ${{ secrets.GCP_CREDENTIALS }}
  
env:
  HOST: 34.70.178.216
  USERNAME: instance-1
  PASSWORD: ${{ secrets.SERVER_PASSWORD }}
  
steps:
  - name: Connect to server
    uses: appleboy/ssh-action@master
    with:
      host: ${{ env.HOST }}
      username: ${{ env.USERNAME }}
      password: ${{ env.PASSWORD }}
      script: |
        cd /var/www/html
        git clone https://github.com/your-username/your-repo.git
        cd your-repo
        npm install
        sudo systemctl restart nginx
